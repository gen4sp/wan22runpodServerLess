# üß™ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –æ–±—Ä–∞–∑–∞

## üêã –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞

```bash
# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –æ–±—Ä–∞–∑ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏
docker build -t wan22-serverless:fixed .

# –ò–ª–∏ —Å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
docker build --progress=plain -t wan22-serverless:fixed .
```

## üîç –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –ª–æ–≥–∞—Ö —Å–±–æ—Ä–∫–∏

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
‚úÖ torchaudio mock —Ä–∞–±–æ—Ç–∞–µ—Ç: 2.5.0
```

## üöÄ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
docker run --rm -it \
  --gpus all \
  -p 8188:8188 \
  wan22-serverless:fixed \
  /bin/bash

# –í–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º torchaudio
python3 -c "
import torchaudio
print(f'torchaudio –≤–µ—Ä—Å–∏—è: {torchaudio.__version__}')
print(f'lib._torchaudio.cuda_version(): {torchaudio.lib._torchaudio.cuda_version()}')
"

# –ó–∞–ø—É—Å–∫–∞–µ–º startup.sh –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
/startup.sh
```

## üîç –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

–í startup.sh –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

```
üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è torchaudio –ø–∞—Ç—á–µ–π...
‚úÖ –ù–∞—Å—Ç–æ—è—â–∏–π torchaudio –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–¥–∞–ª–µ–Ω
‚úÖ Mock torchaudio –Ω–∞–π–¥–µ–Ω
‚úÖ sitecustomize.py –Ω–∞–π–¥–µ–Ω
üß™ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–º–ø–æ—Ä—Ç torchaudio...
‚úÖ torchaudio –∏–º–ø–æ—Ä—Ç —É—Å–ø–µ—à–µ–Ω: –≤–µ—Ä—Å–∏—è 2.5.0
   torchaudio.lib: True
   torchaudio.lib._torchaudio: True
   cuda_version(): 12.8
```

## üéØ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ComfyUI

–ï—Å–ª–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ—à–ª–∞ —É—Å–ø–µ—à–Ω–æ, ComfyUI –¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫:

```
üé® –ó–∞–ø—É—Å–∫ ComfyUI...
Starting server
To see the GUI go to: http://0.0.0.0:8188
```

## ‚ùå –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –ª–æ–≥–∞—Ö –µ—Å—Ç—å `‚úÖ torchaudio mock —Ä–∞–±–æ—Ç–∞–µ—Ç: 2.5.0`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç ‚úÖ
4. –ï—Å–ª–∏ ComfyUI –≤—Å—ë –µ—â—ë –ø–∞–¥–∞–µ—Ç, —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
find /usr/local/lib/python3.11 -name "*torchaudio*" -type f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ sys.modules
python3 -c "import sys; print([k for k in sys.modules.keys() if 'torchaudio' in k])"
```
